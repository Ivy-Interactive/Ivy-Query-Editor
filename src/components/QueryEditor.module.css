/* Shadcn-style CodeMirror theme */
.editor {
  @apply rounded-lg border bg-background text-foreground;
  @apply transition-all duration-200;
  cursor: text;
}

.editor:focus-within {
  @apply ring-2 ring-ring ring-offset-2 ring-offset-background;
}

/* CodeMirror overrides for shadcn style */
.editor :global(.cm-editor) {
  @apply bg-transparent;
  height: 100%;
}

.editor :global(.cm-editor.cm-focused) {
  @apply outline-none;
}

.editor :global(.cm-content) {
  @apply px-4 py-3 font-mono text-sm;
  min-height: auto;
  cursor: text;
}

.editor :global(.cm-line) {
  @apply leading-relaxed;
}

/* Placeholder */
.editor :global(.cm-placeholder) {
  @apply text-muted-foreground/60;
}

/* Cursor */
.editor :global(.cm-cursor) {
  @apply border-l-2 border-primary;
}

/* Selection */
.editor :global(.cm-selectionBackground) {
  @apply bg-primary/20;
}

/* Gutters */
.editor :global(.cm-gutters) {
  @apply border-r border-border bg-muted/30;
}

/* Line numbers */
.editor :global(.cm-lineNumbers) {
  @apply text-muted-foreground text-xs;
}

/* Active line */
.editor :global(.cm-activeLine) {
  @apply bg-muted/50;
}

/* Matching brackets */
.editor :global(.cm-matchingBracket) {
  @apply bg-primary/30 font-bold;
}

/* Syntax highlighting colors */
.editor :global(.cm-query-field) {
  @apply text-blue-600 dark:text-blue-400 font-semibold;
}

.editor :global(.cm-query-string) {
  @apply text-green-600 dark:text-green-400;
}

.editor :global(.cm-query-number) {
  @apply text-purple-600 dark:text-purple-400;
}

.editor :global(.cm-query-boolean) {
  @apply text-red-600 dark:text-red-400;
}

.editor :global(.cm-query-keyword) {
  @apply text-pink-600 dark:text-pink-400 font-semibold;
}

.editor :global(.cm-query-operator) {
  @apply text-cyan-600 dark:text-cyan-400;
}

.editor :global(.cm-query-bracket) {
  @apply text-slate-600 dark:text-slate-400 font-bold;
}

/* Error styling */
.editor :global(.cm-query-error) {
  @apply underline decoration-destructive decoration-wavy underline-offset-4;
}

.editor :global(.cm-lintRange-error) {
  @apply bg-destructive/10;
}

/* Tooltips */
.editor :global(.cm-tooltip) {
  @apply rounded-md border bg-popover text-popover-foreground shadow-md;
  @apply px-3 py-1.5 text-sm;
}

.editor :global(.cm-tooltip-lint) {
  @apply max-w-xs;
}

/* Autocomplete */
.editor :global(.cm-tooltip-autocomplete) {
  @apply rounded-lg border bg-popover shadow-lg;
}

.editor :global(.cm-tooltip-autocomplete ul) {
  @apply m-0 p-1;
}

.editor :global(.cm-tooltip-autocomplete ul li) {
  @apply rounded px-2 py-1 text-sm;
}

.editor :global(.cm-tooltip-autocomplete ul li[aria-selected="true"]) {
  @apply bg-accent text-accent-foreground;
}

/* Dark mode adjustments */
.dark .editor {
  @apply border-border bg-background;
}

.dark .editor :global(.cm-gutters) {
  @apply border-border bg-muted/20;
}